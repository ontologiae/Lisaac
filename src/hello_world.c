/* C code generated by Lisaac compiler (www.lisaac.org) */

#define _LARGE_FILE_API
#define _LARGEFILE_SOURCE
#define _LARGEFILE64_SOURCE
#include <signal.h>
int print_string(char *str);
int arg_count;
char **arg_vector;

/*==========================*/
/* EXTERNAL                 */
/*==========================*/

/* FLOAT_REAL */
#include <math.h>
/* SYSTEM_IO */

#include <stdio.h>
#include <stdlib.h>

/* Hardware 'print_char' */
void print_char(char car)
{
  fputc(car,stdout);
}

/* Hardware 'exit' */
int die_with_code(int code)
{
  exit(code);
}


/* SYSTEM */
#include <time.h>
/* VIDEO */

#include <X11/Xlib.h>

// For Frame buffer.
//#include <X11/extensions/XTest.h>
//#include <linux/fb.h>
#include <string.h>
#include <sys/mman.h>
#include <fcntl.h>
#include <errno.h>

Display *display;
Window  window;
GC      gc;
Screen  *screen;
XImage  *ximage=NULL;


/*==========================*/
/* TYPE                     */
/*==========================*/

/* Generic Object */
struct ___OBJ {
  unsigned int __id;
};

typedef struct li__BB_struct __li__AB; /* ALIAS with li__BB */
typedef struct li__BB_struct __li__BB;
/* NULL */
#ifndef NULL
#define NULL ((void *)0)
#endif

typedef signed int __li__I;
typedef char __li__JB;
/* li__BB */
#define __li__BB__ 0
struct li__BB_struct {
  __li__I li__EC;
  __li__JB *li__FC;
};
/* li__AB */
#define __li__AB__ 1
typedef char __li__C;
#define li__B__ 1
#define li__G__ 0
/* ___CONTEXT */
typedef struct ___CONTEXT_struct _____CONTEXT; 
struct ___CONTEXT_struct {
  unsigned long code; 
  _____CONTEXT *back; 
};
_____CONTEXT *top_context; 


void *table_type[2];

/*==========================*/
/* SOURCE LINE REFERENCE    */
/*==========================*/


/*==========================*/
/* GLOBAL                   */
/*==========================*/

__li__BB li__BB_;
#define li__BB__ (&li__BB_)

__li__AB li__AB_;
#define li__AB__ (&li__AB_)


/*==========================*/
/* STRING CONSTANT          */
/*==========================*/

__li__AB __string_1={4,"truc\n"};
__li__AB __string_2={4,"toto\n"};
__li__AB __string_3={23,"User assertion violated."};
__li__AB __string_4={2,"Hi\n"};
__li__AB __string_5={12,"Hello world!\n"};
__li__AB __string_6={26,"Require assertion violated."};

/*==========================*/
/* FUNCTION HEADER          */
/*==========================*/

/* Debug Manager */
void interrupt_signal(int sig);
void lisaac_stack_print(long);        
void print_integer_h(unsigned long n);
void print_integer(long n);           
void lisaac_push_first(_____CONTEXT *path,unsigned long code); 
void lisaac_push(_____CONTEXT *path,unsigned long code);       
/* Source code */
static void li__RC(__li__AB *li__TC);
static __li__C li__RE(__li__I li__TE,__li__I li__UE);
static __li__C li__WK(__li__I li__YK,__li__I li__ZK);

/*==========================*/
/* SOURCE CODE              */
/*==========================*/

int main(int argc,char **argv)
{
   __li__I li__UK;
  _____CONTEXT li__AC,li__RK,li__EL,li__WL,li__RG,li__JD,li__MC,li__WN;
  _____CONTEXT li__3P,li__4N,li__Y2,li__Z2,li__02;
  __li__C li__ED,li__PD;
 lisaac_push_first(&li__AC,0); /* L3 HELLO_WORLD*/;
  signal(SIGINT,interrupt_signal);
  arg_count  = argc;
  arg_vector = argv;
;
  lisaac_push(&li__AC,1); /* L26 ABSTRACT_STRING*/;
  lisaac_push_first(&li__RK,1); /* L26 ABSTRACT_STRING*/;
  lisaac_push_first(&li__EL,2); /* L64 NUMERIC*/;
  lisaac_push_first(&li__WL,3); /* L50 NUMERIC*/;
  li__UK=(__li__I)(-  1);
  lisaac_push(&li__AC,4); /* L26 ABSTRACT_STRING*/;
  ((__li__BB *)li__BB__)->li__EC=li__UK;
  lisaac_push(&li__AC,5); /* L17 ABSTRACT_STRING*/;
  lisaac_push(&li__AC,6); /* L9 STRING_CONSTANT*/;
  (*li__AB__)=(*li__BB__);
  lisaac_push(&li__AC,7); /* L24 HELLO_WORLD*/;
  lisaac_push_first(&li__RK,8); /* L26 HELLO_WORLD*/;
  lisaac_push_first(&li__EL,9); /* L15 HELLO_WORLD*/;
  lisaac_push(&li__EL,10); /* L17 HELLO_WORLD*/;
  li__RC((&__string_1));
  lisaac_push(&li__EL,11); /* L18 HELLO_WORLD*/;
  lisaac_push_first(&li__WL,12); /* L123 BLOCK*/;
  li__ED=li__RE( 15, 10);
  if (li__ED) {
    lisaac_push(&li__WL,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__RG,14); /* L50 TRUE*/;
    lisaac_push_first(&li__JD,15); /* L123 BLOCK*/;
    lisaac_push_first(&li__MC,16); /* L18 HELLO_WORLD*/;
    lisaac_push(&li__MC,17); /* L18 HELLO_WORLD*/;
    li__RC((&__string_2));
    lisaac_push(&li__JD,18); /* L123 BLOCK*/;
    lisaac_push_first(&li__MC,19); /* L87 FALSE*/;
    li__PD=li__B__;
  } else /* FALSE */ {
    lisaac_push(&li__WL,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__RG,20); /* L65 FALSE*/;
    li__PD=li__G__;
  };
  if (li__PD) {
    lisaac_push(&li__WL,21); /* L125 BLOCK*/;
    lisaac_push_first(&li__RG,22); /* L36 TRUE*/;
    lisaac_push_first(&li__JD,23); /* L123 BLOCK*/;
    lisaac_push(&li__JD,24); /* L124 BLOCK*/;
    lisaac_push_first(&li__MC,25); /* L46 OBJECT*/;
    lisaac_push_first(&li__WN,26); /* L37 OBJECT*/;
    lisaac_push_first(&li__3P,22); /* L36 TRUE*/;
    lisaac_push_first(&li__4N,27); /* L35 OBJECT*/;
    lisaac_stack_print(( 7));
    lisaac_push(&li__MC,28); /* L47 OBJECT*/;
    li__RC((&__string_3));
    lisaac_push(&li__MC,29); /* L48 OBJECT*/;
    lisaac_push_first(&li__WN,30); /* L58 CHARACTER*/;
    lisaac_push_first(&li__3P,31); /* L18 STD_OUTPUT*/;
    lisaac_push_first(&li__4N,32); /* L119 OUTPUT_STREAM*/;
    lisaac_push_first(&li__Y2,33); /* L49 SYSTEM_IO*/;
    lisaac_push_first(&li__Z2,34); /* L30 FALSE*/;
    lisaac_push_first(&li__02,35); /* L47 SYSTEM_IO*/;
    fputc((int)('\n'),stdout);
    lisaac_push(&li__MC,36); /* L49 OBJECT*/;
    lisaac_push_first(&li__WN,37); /* L57 OBJECT*/;
    lisaac_push_first(&li__3P,38); /* L49 SYSTEM*/;
    exit(( 1));
  } else /* FALSE */ {
    lisaac_push(&li__WL,21); /* L125 BLOCK*/;
    lisaac_push_first(&li__RG,39); /* L38 FALSE*/;
  };
  lisaac_push(&li__EL,40); /* L21 HELLO_WORLD*/;
  li__RC((&__string_4));
  lisaac_push(&li__RK,41); /* L27 HELLO_WORLD*/;
  li__RC((&__string_5));
  return(0);
}


static void li__RC(__li__AB *li__TC)
/* (Strict STRING_CONSTANT{li__AB}) Void Recursive, No inlinable. NO CONTEXT! */
{
   __li__I li__GG,li__WI,li__FX,li__42,li__GX;
  _____CONTEXT li__SC,li__PF,li__BH,li__LJ,li__JH,li__F2,li__FP,li__3Q;
  _____CONTEXT li__QS,li__FR,li__MP,li__XW,li__CX,li__12,li__22,li__32;
  _____CONTEXT li__I3,li__SV;
  __li__C li__EH,li__ZI,li__AR,li__OX,li__VX,li__YX;
  __li__JB *li__RP,*li__XR;
  __li__JB li__NG;
 lisaac_push_first(&li__SC,42); /* L1257 ABSTRACT_STRING*/;
  lisaac_push_first(&li__PF,43); /* L22 OUTPUT_STREAM*/;
  lisaac_push_first(&li__BH,12); /* L123 BLOCK*/;
  li__EH=li__RE( 15, 10);
  if (li__EH) {
    lisaac_push(&li__BH,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__LJ,14); /* L50 TRUE*/;
    lisaac_push_first(&li__JH,18); /* L123 BLOCK*/;
    lisaac_push_first(&li__F2,44); /* L72 TRUE*/;
  } else /* FALSE */ {
    lisaac_push(&li__BH,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__LJ,20); /* L65 FALSE*/;
  };
  lisaac_push(&li__BH,21); /* L125 BLOCK*/;
  lisaac_push(&li__PF,45); /* L23 OUTPUT_STREAM*/;
  lisaac_push_first(&li__BH,12); /* L123 BLOCK*/;
  li__EH=li__RE( 15, 10);
  if (li__EH) {
    lisaac_push(&li__BH,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__LJ,14); /* L50 TRUE*/;
    lisaac_push_first(&li__JH,18); /* L123 BLOCK*/;
    lisaac_push_first(&li__F2,44); /* L72 TRUE*/;
  } else /* FALSE */ {
    lisaac_push(&li__BH,13); /* L123 BLOCK*/;
    lisaac_push_first(&li__LJ,20); /* L65 FALSE*/;
  };
  lisaac_push(&li__BH,21); /* L125 BLOCK*/;
  lisaac_push_first(&li__LJ,39); /* L38 FALSE*/;
  li__GG=(*(li__TC)).li__EC;
  lisaac_push(&li__PF,46); /* L27 OUTPUT_STREAM*/;
  li__WI= 0;
  lisaac_push_first(&li__BH,47); /* L146 NUMERIC*/;
  li__UI:
  {
    lisaac_push(&li__BH,47); /* L146 NUMERIC*/;
    li__ZI=li__WK(li__WI,li__GG);
    if (li__ZI) {
      lisaac_push(&li__BH,48); /* L150 NUMERIC*/;
      lisaac_push_first(&li__LJ,22); /* L36 TRUE*/;
      lisaac_push_first(&li__JH,49); /* L148 NUMERIC*/;
      lisaac_push_first(&li__F2,50); /* L26 OUTPUT_STREAM*/;
      lisaac_push_first(&li__FP,51); /* L39 ABSTRACT_STRING*/;
      lisaac_push_first(&li__3Q,52); /* L139 BLOCK*/;
      li__AR=li__RE( 15, 5);
      if (li__AR) {
        lisaac_push(&li__3Q,53); /* L139 BLOCK*/;
        lisaac_push_first(&li__QS,14); /* L50 TRUE*/;
        lisaac_push_first(&li__FR,54); /* L139 BLOCK*/;
        lisaac_push_first(&li__MP,55); /* L39 ABSTRACT_STRING*/;
        lisaac_push_first(&li__XW,56); /* L101 ABSTRACT_STRING*/;
        lisaac_push_first(&li__CX,57); /* L22 ABSTRACT_STRING*/;
        li__FX=(*(li__TC)).li__EC;
        lisaac_push(&li__CX,58); /* L22 ABSTRACT_STRING*/;
        lisaac_push_first(&li__12,59); /* L56 NUMERIC*/;
        lisaac_push_first(&li__22,2); /* L64 NUMERIC*/;
        lisaac_push_first(&li__32,3); /* L50 NUMERIC*/;
        li__42=(__li__I)(-  1);
        lisaac_push(&li__12,60); /* L56 NUMERIC*/;
        lisaac_push_first(&li__22,3); /* L50 NUMERIC*/;
        li__GX=(__li__I)(li__FX - li__42);
        lisaac_push(&li__XW,61); /* L101 ABSTRACT_STRING*/;
        lisaac_push_first(&li__CX,62); /* L28 NUMERIC*/;
        li__OX=li__WK( 0,li__WI);
        if (li__OX) {
          lisaac_push(&li__CX,63); /* L28 NUMERIC*/;
          lisaac_push_first(&li__12,14); /* L50 TRUE*/;
          lisaac_push_first(&li__22,64); /* L28 NUMERIC*/;
          li__VX=li__RE(li__GX,li__WI);
          li__YX=li__VX;
        } else /* FALSE */ {
          lisaac_push(&li__CX,63); /* L28 NUMERIC*/;
          lisaac_push_first(&li__12,20); /* L65 FALSE*/;
          li__YX=li__G__;
        };
        if (li__YX) {
          lisaac_push(&li__FR,65); /* L139 BLOCK*/;
          lisaac_push_first(&li__MP,44); /* L72 TRUE*/;
          li__VX=li__G__;
        } else /* FALSE */ {
          lisaac_push(&li__FR,65); /* L139 BLOCK*/;
          lisaac_push_first(&li__MP,19); /* L87 FALSE*/;
          li__VX=li__B__;
        };
        li__OX=li__VX;
      } else /* FALSE */ {
        lisaac_push(&li__3Q,53); /* L139 BLOCK*/;
        lisaac_push_first(&li__QS,20); /* L65 FALSE*/;
        li__OX=li__G__;
      };
      if (li__OX) {
        lisaac_push(&li__3Q,66); /* L141 BLOCK*/;
        lisaac_push_first(&li__QS,22); /* L36 TRUE*/;
        lisaac_push_first(&li__FR,67); /* L139 BLOCK*/;
        lisaac_push(&li__FR,68); /* L140 BLOCK*/;
        lisaac_push_first(&li__MP,25); /* L46 OBJECT*/;
        lisaac_push_first(&li__XW,26); /* L37 OBJECT*/;
        lisaac_push_first(&li__CX,22); /* L36 TRUE*/;
        lisaac_push_first(&li__12,27); /* L35 OBJECT*/;
        lisaac_stack_print(( 7));
        lisaac_push(&li__MP,28); /* L47 OBJECT*/;
        li__RC((&__string_6));
        lisaac_push(&li__MP,29); /* L48 OBJECT*/;
        lisaac_push_first(&li__XW,30); /* L58 CHARACTER*/;
        lisaac_push_first(&li__CX,31); /* L18 STD_OUTPUT*/;
        lisaac_push_first(&li__12,32); /* L119 OUTPUT_STREAM*/;
        lisaac_push_first(&li__22,33); /* L49 SYSTEM_IO*/;
        lisaac_push_first(&li__32,34); /* L30 FALSE*/;
        lisaac_push_first(&li__I3,35); /* L47 SYSTEM_IO*/;
        fputc((int)('\n'),stdout);
        lisaac_push(&li__MP,36); /* L49 OBJECT*/;
        lisaac_push_first(&li__XW,37); /* L57 OBJECT*/;
        lisaac_push_first(&li__CX,38); /* L49 SYSTEM*/;
        exit(( 1));
      } else /* FALSE */ {
        lisaac_push(&li__3Q,66); /* L141 BLOCK*/;
        lisaac_push_first(&li__QS,39); /* L38 FALSE*/;
      };
      li__RP=(*(li__TC)).li__FC;
      lisaac_push(&li__FP,69); /* L43 ABSTRACT_STRING*/;
      li__XR=((__li__JB *)li__RP);
      lisaac_push_first(&li__3Q,70); /* L107 NATIVE_ARRAY*/;
      lisaac_push_first(&li__QS,52); /* L139 BLOCK*/;
      li__AR=li__RE( 15, 5);
      if (li__AR) {
        lisaac_push(&li__QS,53); /* L139 BLOCK*/;
        lisaac_push_first(&li__FR,14); /* L50 TRUE*/;
        lisaac_push_first(&li__MP,54); /* L139 BLOCK*/;
        lisaac_push_first(&li__XW,71); /* L107 NATIVE_ARRAY*/;
        li__OX=li__RE(li__WI, 0);
        if (li__OX) {
          lisaac_push(&li__MP,65); /* L139 BLOCK*/;
          lisaac_push_first(&li__XW,44); /* L72 TRUE*/;
          li__VX=li__G__;
        } else /* FALSE */ {
          lisaac_push(&li__MP,65); /* L139 BLOCK*/;
          lisaac_push_first(&li__XW,19); /* L87 FALSE*/;
          li__VX=li__B__;
        };
        li__OX=li__VX;
      } else /* FALSE */ {
        lisaac_push(&li__QS,53); /* L139 BLOCK*/;
        lisaac_push_first(&li__FR,20); /* L65 FALSE*/;
        li__OX=li__G__;
      };
      if (li__OX) {
        lisaac_push(&li__QS,66); /* L141 BLOCK*/;
        lisaac_push_first(&li__FR,22); /* L36 TRUE*/;
        lisaac_push_first(&li__MP,67); /* L139 BLOCK*/;
        lisaac_push(&li__MP,68); /* L140 BLOCK*/;
        lisaac_push_first(&li__XW,25); /* L46 OBJECT*/;
        lisaac_push_first(&li__CX,26); /* L37 OBJECT*/;
        lisaac_push_first(&li__12,22); /* L36 TRUE*/;
        lisaac_push_first(&li__22,27); /* L35 OBJECT*/;
        lisaac_stack_print(( 7));
        lisaac_push(&li__XW,28); /* L47 OBJECT*/;
        li__RC((&__string_6));
        lisaac_push(&li__XW,29); /* L48 OBJECT*/;
        lisaac_push_first(&li__CX,30); /* L58 CHARACTER*/;
        lisaac_push_first(&li__12,31); /* L18 STD_OUTPUT*/;
        lisaac_push_first(&li__22,32); /* L119 OUTPUT_STREAM*/;
        lisaac_push_first(&li__32,33); /* L49 SYSTEM_IO*/;
        lisaac_push_first(&li__I3,34); /* L30 FALSE*/;
        lisaac_push_first(&li__SV,35); /* L47 SYSTEM_IO*/;
        fputc((int)('\n'),stdout);
        lisaac_push(&li__XW,36); /* L49 OBJECT*/;
        lisaac_push_first(&li__CX,37); /* L57 OBJECT*/;
        lisaac_push_first(&li__12,38); /* L49 SYSTEM*/;
        exit(( 1));
      } else /* FALSE */ {
        lisaac_push(&li__QS,66); /* L141 BLOCK*/;
        lisaac_push_first(&li__FR,39); /* L38 FALSE*/;
      };
      li__NG=li__XR[li__WI];
      lisaac_push(&li__F2,72); /* L26 OUTPUT_STREAM*/;
      lisaac_push_first(&li__FP,31); /* L18 STD_OUTPUT*/;
      lisaac_push_first(&li__3Q,32); /* L119 OUTPUT_STREAM*/;
      lisaac_push_first(&li__QS,33); /* L49 SYSTEM_IO*/;
      lisaac_push_first(&li__FR,34); /* L30 FALSE*/;
      lisaac_push_first(&li__MP,35); /* L47 SYSTEM_IO*/;
      fputc((int)(li__NG),stdout);
      lisaac_push(&li__JH,73); /* L149 NUMERIC*/;
      lisaac_push_first(&li__F2,59); /* L56 NUMERIC*/;
      lisaac_push_first(&li__FP,2); /* L64 NUMERIC*/;
      lisaac_push_first(&li__3Q,3); /* L50 NUMERIC*/;
      li__FX=(__li__I)(-  1);
      lisaac_push(&li__F2,60); /* L56 NUMERIC*/;
      lisaac_push_first(&li__FP,3); /* L50 NUMERIC*/;
      li__42=(__li__I)(li__WI - li__FX);
      lisaac_push(&li__JH,74); /* L149 NUMERIC*/;
      li__WI=li__42;
      goto li__UI;
    } else /* FALSE */ {
      lisaac_push(&li__BH,48); /* L150 NUMERIC*/;
      lisaac_push_first(&li__LJ,39); /* L38 FALSE*/;
    };
  };
}

static __li__C li__RE(__li__I li__TE,__li__I li__UE)
/* (Expanded INTEGER{li__I},Expanded INTEGER{li__I}) With result No recursive, No inlinable. NO CONTEXT! */
{
   _____CONTEXT li__SE,li__AF;
  __li__C li__WE,li__YE,li__ZE,li__VE;
 lisaac_push_first(&li__SE,75); /* L98 NUMERIC*/;
  lisaac_push_first(&li__AF,76); /* L92 NUMERIC*/;
  li__WE=(li__TE > li__UE);
  li__YE=(li__TE == li__UE);
  if (li__WE) {
    lisaac_push(&li__SE,77); /* L98 NUMERIC*/;
    lisaac_push_first(&li__AF,78); /* L52 TRUE*/;
    li__ZE=li__B__;
  } else /* FALSE */ {
    lisaac_push(&li__SE,77); /* L98 NUMERIC*/;
    lisaac_push_first(&li__AF,79); /* L67 FALSE*/;
    li__ZE=li__YE;
  };
  li__VE=li__ZE;
  return(li__VE);
}

static __li__C li__WK(__li__I li__YK,__li__I li__ZK)
/* (Expanded INTEGER{li__I},Expanded INTEGER{li__I}) With result No recursive, No inlinable. NO CONTEXT! */
{
   _____CONTEXT li__XK,li__F1;
  __li__C li__3K,li__0K;
 lisaac_push_first(&li__XK,80); /* L96 NUMERIC*/;
  lisaac_push_first(&li__F1,76); /* L92 NUMERIC*/;
  if ((li__YK > li__ZK)) {
    lisaac_push(&li__XK,81); /* L96 NUMERIC*/;
    lisaac_push_first(&li__F1,44); /* L72 TRUE*/;
    li__3K=li__G__;
  } else /* FALSE */ {
    lisaac_push(&li__XK,81); /* L96 NUMERIC*/;
    lisaac_push_first(&li__F1,19); /* L87 FALSE*/;
    li__3K=li__B__;
  };
  li__0K=li__3K;
  return(li__0K);
}

/*==========================*/
/* DEBUG MANAGER            */
/*==========================*/

int print_string(char *str) 
{ 
  while (*str!=0) {
    print_char(*str); 
    str++; 
  };
  return(0);
}

char *trace[47]={
  "./make.lip (...)",
  "/home/ben/svn-caca/lisaac/make.lip (.../make.lip)",
  "TRUE (.../lib/base/boolean/true.li)",
  "BOOLEAN (.../lib/base/boolean/boolean.li)",
  "OBJECT (.../lib/base/kernel/object.li)",
  "FALSE (.../lib/base/boolean/false.li)",
  "INTEGER (.../lib/base/number/integer/integer.li)",
  "NUMERIC (.../lib/base/number/low_level/numeric.li)",
  "REAL_32 (.../lib/base/number/real/real_32.li)",
  "FLOAT_MAP32 (.../lib/base/number/low_level/float_map32.li)",
  "FLOAT_MAP (.../lib/base/number/low_level/float_map.li)",
  "UINTEGER_32 (.../lib/base/number/integer/uinteger_32.li)",
  "UNSIGNED_INTEGER (.../lib/base/number/low_level/unsigned_integer.li)",
  "FLOAT_REAL (.../lib/base/number/low_level/float_real.li)",
  "REAL (.../lib/base/number/real/real.li)",
  "INTEGER_32 (.../lib/base/number/integer/integer_32.li)",
  "SIGNED_INTEGER (.../lib/base/number/low_level/signed_integer.li)",
  "STRING_CONSTANT (.../lib/base/string/string_constant.li)",
  "ABSTRACT_STRING (.../lib/base/string/abstract_string.li)",
  "HASHABLE (.../lib/base/property/hashable.li)",
  "COMPARABLE (.../lib/base/property/comparable.li)",
  "CHARACTER (.../lib/base/string/character.li)",
  "CHARACTER_REF (.../lib/base/string/low_level/character_ref.li)",
  "BLOCK (.../lib/base/kernel/block.li)",
  "POINTER (.../lib/base/kernel/pointer.li)",
  "NATIVE_ARRAY (.../lib/base/collection/low_level/native_array.li)",
  "SAFE_EQUAL (.../lib/base/property/safe_equal.li)",
  "HELLO_WORLD (.../src/toto/hello_world.li)",
  "SYSTEM_IO (.../lib/base/file_system/TARGET/unix/system_io.li)",
  "IO (.../lib/base/io/io.li)",
  "STD_INPUT (.../lib/base/io/std_input.li)",
  "INPUT_STREAM (.../lib/base/io/low_level/input_stream.li)",
  "STD_OUTPUT (.../lib/base/io/std_output.li)",
  "OUTPUT_STREAM (.../lib/base/io/low_level/output_stream.li)",
  "SYSTEM (.../lib/base/system/system.li)",
  "G_OUT (.../lib/extra/gui/g_out.li)",
  "AREA (.../lib/extra/gui/clipping/area.li)",
  "VIDEO (.../lib/extra/graphics/TARGET/unix/video.li)",
  "PIXEL_24 (.../lib/extra/graphics/pixel_24.li)",
  "PIXEL (.../lib/extra/graphics/low_level/pixel.li)",
  "UINTEGER_8 (.../lib/base/number/integer/uinteger_8.li)",
  "BITMAP (.../lib/extra/graphics/bitmap.li)",
  "ABSTRACT_BITMAP (.../lib/extra/graphics/low_level/abstract_bitmap.li)",
  "INBOX (.../lib/extra/gui/low_level/inbox.li)",
  "G_EXPR (.../lib/extra/gui/low_level/g_expr.li)",
  "STRING (.../lib/base/string/string.li)",
  "ARRAYED (.../lib/base/collection/low_level/arrayed.li)"
};

struct __source {
  unsigned int pos;
  char *line;
} __src[82]={
  {397339,"  + name        := HELLO_WORLD;"},
  {3419154,"  + upper:INTEGER := -1;"},
  {8408071,"  - '-' Self:SELF :SELF <- SELF.zero - Self;"},
  {6573575,"  - Self:SELF '-'  Left 80  other:SELF :SELF <- `3`;"},
  {3412498,"  + upper:INTEGER := -1;"},
  {2233874,"  + storage:NATIVE_ARRAY(CHARACTER);"},
  {1193489,"  + inherit_abstract_string:Expanded ABSTRACT_STRING;"},
  {3150363,"  - main <-"},
  {3411995,"    toto;"},
  {1970715,"  - toto <-"},
  {2237467,"    \"truc\\n\".print;"},
  {2361883,"    ? {\"toto\\n\".print; FALSE};"},
  {16132119,"    ((debug_level >=10) && {! value}).if {"},
  {16135191,"    ((debug_level >=10) && {! value}).if {"},
  {6589442,"  - Self:SELF '&&'  Left 20  other:{BOOLEAN}   :BOOLEAN <- other.value;  // and then"},
  {16139799,"    ((debug_level >=10) && {! value}).if {"},
  {2362907,"    ? {\"toto\\n\".print; FALSE};"},
  {2370075,"    ? {\"toto\\n\".print; FALSE};"},
  {16136727,"    ((debug_level >=10) && {! value}).if {"},
  {11412485,"  - '!' Self:SELF :BOOLEAN <- TRUE;"},
  {8542213,"  - Self:SELF '&&'  Left 20  other:{BOOLEAN}   :BOOLEAN <- FALSE;"},
  {16386583,"    };"},
  {4728834,"    true_block.value;"},
  {16143383,"    ((debug_level >=10) && {! value}).if {"},
  {16283159,"      crash_with_message \"User assertion violated.\" after 7;"},
  {6046724,"    print_runtime_stack_after step;"},
  {4852228,"    };"},
  {4601348,"    (debug_level != 0).if {"},
  {6167044,"    msg.print;"},
  {6298628,"    '\\n'.print;"},
  {7619605,"  - print <- IO.put_character Self;"},
  {2383904,"  - put_character c:CHARACTER <- basic_io_putc c;"},
  {15625761,"  - basic_io_putc c:CHARACTER <- SYSTEM_IO.print_char c;"},
  {6425116,"    };"},
  {3942917,"    false_block.value;"},
  {6166556,"    } else {"},
  {6440452,"    die_with_code exit_failure_code;"},
  {7501828,"  - die_with_code exit_code:INTEGER <- SYSTEM.exit exit_code;"},
  {6433826,"  - exit code:INTEGER <- `exit(@code)`;"},
  {4991493,"  - if true_block:{} :BOOLEAN <- FALSE;"},
  {2760731,"    \"Hi\\n\".print;"},
  {3552283,"    \"Hello world!\\n\".print;"},
  {164768786,"    IO.put_string Self;"},
  {2886177,"  ( ? {is_connected};"},
  {9446402,"  - '!' Self:SELF :BOOLEAN <- FALSE;"},
  {3017249,"    ? {s!=NULL};"},
  {3541537,"    };"},
  {19142663,"    (Self <= limit_up).if"},
  {19663367,"    };"},
  {19408903,"      blc.value Self;"},
  {3422753,"      put_character (s.item i);"},
  {5114898,"    -? {valid_index index};"},
  {18229271,"    ((debug_level >= 5) && {! value}).if {"},
  {18232343,"    ((debug_level >= 5) && {! value}).if {"},
  {18236951,"    ((debug_level >= 5) && {! value}).if {"},
  {5124626,"    -? {valid_index index};"},
  {13255186,"  ( index.in_range lower to count );"},
  {2888210,"  - count:INTEGER <- upper + 1;"},
  {2897938,"  - count:INTEGER <- upper + 1;"},
  {7368711,"  - Self:SELF '+'  Left 80  other:SELF :SELF <- Self - -other;"},
  {7367687,"  - Self:SELF '+'  Left 80  other:SELF :SELF <- Self - -other;"},
  {13255698,"  ( index.in_range lower to count );"},
  {3674631,"  (low <= Self) && {up >= Self};"},
  {3679239,"  (low <= Self) && {up >= Self};"},
  {3682823,"  (low <= Self) && {up >= Self};"},
  {18233879,"    ((debug_level >= 5) && {! value}).if {"},
  {18483735,"    };"},
  {18240535,"    ((debug_level >= 5) && {! value}).if {"},
  {18381847,"      crash_with_message \"Require assertion violated.\" after 7;"},
  {5637138,"  );"},
  {14027801,"    -? {index >= 0};"},
  {14032921,"    -? {index >= 0};"},
  {3423265,"      put_character (s.item i);"},
  {19536391,"      (Self + 1).to limit_up do blc;"},
  {19547655,"      (Self + 1).to limit_up do blc;"},
  {12875271,"  - Self:SELF '>='  Right 60 other:SELF :BOOLEAN <- (Self > other) | (Self = other);"},
  {12079111,"  - Self:SELF '>'   Right 60 other:SELF :BOOLEAN <- `2`;"},
  {12879879,"  - Self:SELF '>='  Right 60 other:SELF :BOOLEAN <- (Self > other) | (Self = other);"},
  {6837762,"  - Self:SELF '|'   Left 10  other:BOOLEAN :BOOLEAN <- TRUE;  // or"},
  {8803845,"  - Self:SELF '|'   Left 10  other:BOOLEAN :BOOLEAN <- other;"},
  {12614151,"  - Self:SELF '<='  Right 60 other:SELF :BOOLEAN <- ! (Self > other);"},
  {12610055,"  - Self:SELF '<='  Right 60 other:SELF :BOOLEAN <- ! (Self > other);"}
};

/* Unix Signal manager: */
void interrupt_signal(int sig)  
{                               
  lisaac_stack_print(0);     
  print_string("User interrupt.\n"); 
  die_with_code(1);                     
}                                       

void lisaac_push_first(_____CONTEXT *path,unsigned long code)
{ 
  path->back  = top_context;
  path->code  = code;
  top_context = path;
} 
  
void lisaac_push(_____CONTEXT *path,unsigned long code)
{ 
  path->code  = code;
  top_context = path;
} 
  
  
void lisaac_stack_print(long step)           
{ _____CONTEXT *back,*next,*up;              
  int j;	                              
  up = top_context;                          
  for (j=0;j<step;j++) up = up->back;        
  next = (void *)0;                          
  while (up != (void *)0) {                  
    back = up -> back;                       
    up -> back = next;                       
    next = up;                               
    up = back;                               
  };                                         
  print_string("\n============== BOTTOM ==============\n"); 
  while (next != (void *)0) {                
    print_string("Line #");                           
    print_integer(__src[next->code].pos >> 17);         
    print_string(" Column #");                        
    print_integer((__src[next->code].pos >> 9) & 0xFF); 
    print_string(" in ");                             
    print_string(trace[__src[next->code].pos & 0x1FF]); 
    print_string(".\n");                             
    print_string(__src[next->code].line);               
    print_char('\n');                                  
    for (j=0;j < ((__src[next->code].pos >> 9) & 0xFF);j++) {
      if (__src[next->code].line[j]=='\t') print_char('\t');
      else print_char(' ');
    };                                                  
    print_char('^');                                    
    print_char('\n');                                  
    next = next -> back;                     
  };                                         
  print_string("================ TOP ===============\n"); 
  top_context = (void *)0;                   
}                                            
 
void print_integer(long n)           
{ long val;                          
  char car;                          
  if (n<0) { print_char('-'); n=-n;};
  car = (n % 10) + '0';              
  val = n / 10;                      
  if (val != 0) print_integer(val);  
  print_char(car);                   
} 

void print_integer_h_2(unsigned long n,long l) 
{ unsigned long val,v,j;            
  char car;                           
  v = n & 0xF;                        
  if (v < 10) car = v + '0'; else car = (v-10) + 'A'; 
  val = n >> 4;                       
  if (val != 0) print_integer_h_2(val,l-1); else 
  for (j=0;j<l;j++) print_string("-"); 
  print_char(car);                    
} 
 
void print_integer_h(unsigned long n)  
{                                      
  print_integer_h_2(n,15);             
} 
 

