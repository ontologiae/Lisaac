/***************************************************************************
*                      Isaac Object Operating System                       *
*                             Isaac Library                                *
*                      LORIA - UHP - INRIA - FRANCE                        *
*                   Benoit SONNTAG - bsonntag@loria.fr                     *
*                          http://www.IsaacOS.com                          *
****************************************************************************/
section HEADER
  
  + name        := GUI_LABEL;
  
  - comment     := "Label Plateform.";
  
  - category    := MICRO;
  
  - bibliography:= "http://IsaacOS.com";
  
  - author      := "Benoit Sonntag (bsonntag@loria.fr)";
  
section INHERIT
  
  - parent_inbox:INBOX := INBOX;
  
section PUBLIC
    
  + name:ABSTRACT_STRING;
  
  + next:GUI_LABEL;  

  - '+' right 80 other:GUI_LABEL :GUI_LABEL <-
  (
    next := other;
    self
  );
  
  //
  // Size.
  //
  
  - width_min :INTEGER <- 
  ( + result:INTEGER;
    result := my_width_min;
    (next = NULL).if_false {      
      result := result + next.width_min;
    };
    result
  );
  
  - height_min:INTEGER <- 
  ( + result:INTEGER;
    result := my_height_min;
    (next = NULL).if_false {
      result := result.max (next.height_min);
    };
    result
  );
  
  //
  // Event.
  //

  - receive msg:EVENT <-
  (
  //  receive_nothing msg;
  );
    
  //
  // Display.
  //
  
  - display_in bmp:GUI_ITEM to x,y:INTEGER <- 
  ( + h,px,py:INTEGER;
    + l:GUI_LABEL;
    h := height_min;
    l := self;
    px := x;
    {
      py := y + ((h - l.my_height_min) >> 1);
      l.my_display_in bmp to px,py;
      px := px + l.my_width_min;
      l := l.next;
    }.do_until {l = NULL};
  );
  
section GUI_LABEL
  
  - my_width_min :INTEGER <- deferred;
  
  - my_height_min:INTEGER <- deferred;
  
  - my_display_in bmp:GUI_ITEM to x,y:INTEGER <- deferred;
  